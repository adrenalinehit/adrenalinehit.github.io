<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Experimentation, dotnet style - Nick&#x27;s Blog</title><meta name="description" content="Experimentation, dotnet style by Nick"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=G-BF71D8EH7X"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'G-BF71D8EH7X' );</script><link rel="stylesheet" href="https://adrenalinehit.github.io/media/plugins/syntaxHighlighter/prism-black.css"><link rel="canonical" href="https://adrenalinehit.github.io/experimentation-dotnet-style.html"><link rel="alternate" type="application/atom+xml" href="https://adrenalinehit.github.io/feed.xml" title="Nick&#x27;s Blog - RSS"><link rel="alternate" type="application/json" href="https://adrenalinehit.github.io/feed.json" title="Nick&#x27;s Blog - JSON"><meta property="og:title" content="Experimentation, dotnet style"><meta property="og:site_name" content="Nick's Blog"><meta property="og:description" content="Experimentation, dotnet style by Nick"><meta property="og:url" content="https://adrenalinehit.github.io/experimentation-dotnet-style.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://adrenalinehit.github.io/assets/css/style.css?v=11bee19e86e8eda2cf9a60efd975666d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://adrenalinehit.github.io/experimentation-dotnet-style.html"},"headline":"Experimentation, dotnet style","datePublished":"2025-09-04T13:36+01:00","dateModified":"2025-09-04T13:36+01:00","description":"Experimentation, dotnet style by Nick","author":{"@type":"Person","name":"Nick","url":"https://adrenalinehit.github.io/authors/nick/"},"publisher":{"@type":"Organization","name":"Nick"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://adrenalinehit.github.io/">Nick&#x27;s Blog</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="has-submenu"><span class="is-separator" title="Posts" aria-haspopup="true">Posts</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://adrenalinehit.github.io/tags/" title="All Posts" target="_self">All Posts</a></li><li><a href="https://adrenalinehit.github.io/tags/engineering/" target="_self">Engineering</a></li><li><a href="https://adrenalinehit.github.io/tags/mobile/" target="_self">Mobile</a></li><li><a href="https://adrenalinehit.github.io/tags/people/" title="People" target="_self">People</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">About</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://adrenalinehit.github.io/about-nick.html" title="About Nick" target="_self">About Nick</a></li></ul></li></ul></nav></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>Experimentation, dotnet style</h1><div class="feed__meta content__meta"><img src="https://www.gravatar.com/avatar/0f879f3ea09c6e40a566f1a06f760c3c?s&#x3D;240" loading="eager" height="240" width="240" class="feed__author-thumb" alt=""> <a href="https://adrenalinehit.github.io/authors/nick/" class="feed__author">Nick</a> <time datetime="2025-09-04T13:36" class="feed__date">Thursday, 4 September 2025</time></div></div></header></div><div class="entry-wrapper content__entry"><p>Safe (ish!) experimentation and continuous improvements are key to healthy codebases. We discussed <a href="https://github.com/scientistproject/Scientist.net">https://github.com/scientistproject/Scientist.net</a> yesterday, so I thought I'd get Cursor using GPT-5 to knock up a swift dotnet8 example.</p><p>A few birds with one stone as it were. AI, latest model and cursor version trial, and a dotnet library that I wasn't familiar with. Win win.</p><p>Set up the experiment with the GET method.</p><pre class="language-csharp"><code>app.MapGet("/api/data/randomdata", () =&gt;
{
    var result = Scientist.Science&lt;string&gt;("random-data-experiment", experiment =&gt;
    {
        experiment.Use(() =&gt;</code></pre><p>In this case, I chose to return a static json response or read some json from a file.</p><pre class="language-csharp"><code>app.MapGet("/api/data/randomdata", () =&gt;
{
    var result = Scientist.Science&lt;string&gt;("random-data-experiment", experiment =&gt;
    {
        experiment.Use(() =&gt;
        {
            var data = new
            {
                Id = Random.Shared.Next(1, 1000),
                Name = $"Item{Random.Shared.Next(1, 100)}",
                Timestamp = DateTime.UtcNow
            };
            return JsonSerializer.Serialize(data);
        });

        experiment.Try(() =&gt;
        {
            var filePath = Path.Combine(app.Environment.ContentRootPath, "Data", "sample.json");
            return System.IO.File.ReadAllText(filePath);
        });
    });

    return Results.Content(result, "application/json");
})</code></pre><p>Here's the console outputter from earlier.</p><pre class="language-csharp"><code>using System;
using System.Threading.Tasks;
using GitHub;

namespace ScientistDemo.Infrastructure
{
	public class ConsoleResultPublisher : IResultPublisher
	{
		public Task Publish&lt;T, TClean&gt;(Result&lt;T, TClean&gt; result)
		{
			Console.WriteLine($"[Scientist] Experiment: {result.ExperimentName}");
			Console.WriteLine($"[Scientist] Matched: {result.Matched}");
			Console.WriteLine($"[Scientist] Control: value={Format(result.Control.Value)}, duration={result.Control.Duration}, exception={(result.Control.Exception == null ? "none" : result.Control.Exception.GetType().Name)}");
			foreach (var candidate in result.Candidates)
			{
				Console.WriteLine($"[Scientist] Candidate '{candidate.Name}': value={Format(candidate.Value)}, duration={candidate.Duration}, exception={(candidate.Exception == null ? "none" : candidate.Exception.GetType().Name)}");
			}
			if (!result.Matched)
			{
				Console.WriteLine("[Scientist] Mismatch detected!");
			}
			return Task.CompletedTask;
		}

		private static string? Format(object? value)
		{
			return value?.ToString();
		}
	}
}</code></pre><p>By adding the following, we can actually get the output logged somewhere we can read it:</p><pre class="language-csharp"><code>// Configure Scientist to publish results to console
Scientist.ResultPublisher = new ConsoleResultPublisher();</code></pre><p>Here's the console output.</p><pre class="language-bash"><code>[Scientist] Experiment: random-data-experiment
[Scientist] Matched: False
[Scientist] Control: value={"Id":754,"Name":"Item50","Timestamp":"2025-09-04T10:59:44.315161Z"}, duration=00:00:00.0074269, exception=none
[Scientist] Candidate 'candidate': value={
    "Id": 1,
    "Name": "SampleItem",
    "Timestamp": "2025-09-04T10:44:17Z"
}

, duration=00:00:00.0008843, exception=none
[Scientist] Mismatch detected!</code></pre><p>Full code here: <a href="https://github.com/adrenalinehit/dotnet-scientest/tree/main">https://github.com/adrenalinehit/dotnet-scientest/tree/main</a></p><p>There's plenty more scientist.net can do. Do check out its documentation on github.</p><p>Thanks for reading.</p><p>Â </p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on Thursday, 4 September 2025</p><div class="content__actions"><ul class="content__tag"><li><a href="https://adrenalinehit.github.io/tags/engineering/">engineering</a></li></ul><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://adrenalinehit.github.io/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fadrenalinehit.github.io%2Fexperimentation-dotnet-style.html" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://adrenalinehit.github.io/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://api.whatsapp.com/send?text=Experimentation%2C%20dotnet%20style https%3A%2F%2Fadrenalinehit.github.io%2Fexperimentation-dotnet-style.html" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://adrenalinehit.github.io/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div></div></div><div class="content__bio bio"><img src="https://www.gravatar.com/avatar/0f879f3ea09c6e40a566f1a06f760c3c?s&#x3D;240" loading="lazy" height="240" width="240" class="bio__avatar" alt=""><div><h3 class="h4 bio__name"><a href="https://adrenalinehit.github.io/authors/nick/" rel="author">Nick</a></h3><div class="bio__desc"><p>Geek with a law degree. Outdoor enthusiast. Often found on (or falling off) a mountain bike. (All views expressed are my own)</p></div></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://adrenalinehit.github.io/a-celebration-of-mobile-app-development-and-shipping.html" class="content__nav-link" rel="prev"><div><span>Previous</span> A celebration of mobile app development &amp; shipping</div></a></div><div class="content__nav-next"><a href="https://adrenalinehit.github.io/cars.html" class="content__nav-link" rel="next"><div><span>Next</span> Cars!</div></a></div></div></div></nav></footer></article><div class="content__comments"><div class="entry-wrapper"><div class="comments"><div class="comments-wrapper"><h2>Comments</h2><div id="disqus_thread"></div><noscript>Please enable JS to use the comments form.</noscript><script type="text/javascript">var disqus_config = function () {
							this.page.url = 'https://adrenalinehit.github.io/experimentation-dotnet-style.html';
							this.page.identifier = '12'; 
							this.language = 'en_GB';
						};
						
						
				var disqus_element_to_check = document.getElementById('disqus_thread');

				if ('IntersectionObserver' in window) {
					var iObserver = new IntersectionObserver(
						(entries, observer) => {
							entries.forEach(entry => {
								if (entry.intersectionRatio >= 0.1) {
									(function () {
										var d = document, s = d.createElement('script');
										s.src = 'https://'+('adrenalinehitblog').trim()+'.disqus.com/embed.js';
										s.setAttribute('data-timestamp', +new Date());
										(d.head || d.body).appendChild(s);
									})();
									observer.unobserve(entry.target);
								}
							});
						},
						{
							threshold: [0, 0.2, 0.5, 1]
						}
					);

					iObserver.observe(disqus_element_to_check);
				} else {
					(function () {
						var d = document, s = d.createElement('script');
						s.src = 'https://'+('adrenalinehitblog').trim()+'.disqus.com/embed.js';
						s.setAttribute('data-timestamp', +new Date());
						(d.head || d.body).appendChild(s);
					})();
				}</script><script type="text/javascript"></script></div></div></div></div></main><footer class="footer footer--glued"><div class="wrapper"><nav class="footer__nav"><ul><li><a href="https://adrenalinehit.github.io/http-codes-privacy-policy.html" class="al" target="_blank">Http Codes Privacy Policy</a></li><li><a href="https://github.com/adrenalinehit" class="al" title="My Github Profile" target="_blank">My Github Profile</a></li></ul></nav><div class="footer__copyright"><p>Written by Nick Payne. All views and opinions expressed are my own. Powered by Publii.<a href="https://github.com/adrenalinehit" target="_blank" rel="noopener"></a></p></div><div class="footer__social"><a href="https://www.linkedin.com/in/nick-payne-5b0a231/" aria-label="LinkedIn"><svg><use xlink:href="https://adrenalinehit.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div><button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://adrenalinehit.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://adrenalinehit.github.io/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://adrenalinehit.github.io/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://adrenalinehit.github.io/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://adrenalinehit.github.io/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script></body></html>